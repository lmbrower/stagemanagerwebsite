<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Stage Manager's Book</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
        }
        .header {
            background-color: #333;
            color: #fff;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .logo {
            width: 100px;
            height: auto;
        }
        .content {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
        }
        .paragraph {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        .bullet-points {
            margin-bottom: 20px;
        }
        .bullet-points ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        .links {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .links a {
            color: #333;
            text-decoration: none;
            padding: 10px 20px;
            border: 1px solid #333;
            border-radius: 5px;
            transition: background-color 0.3s, color 0.3s;
        }
        .links a:hover {
            background-color: #333;
            color: #fff;
        }
        .faq-question {
            cursor: pointer;
            font-weight: bold;
            padding: 10px 20px;
            background-color: #f0f0f0;
            border-radius: 20px;
            margin-bottom: 10px;
            transition: background-color 0.3s ease;
          }
          .faq-question:hover {
            background-color: #e0e0e0;
          }
          .faq-answer {
            display: none;
            padding: 10px 20px;
            margin-bottom: 10px;
            border-radius: 20px;
            background-color: #f0f0f0;
          }
          .faq-question.active + .faq-answer {
            display: block;
          }
    </style>
</head>
<body>
    <div class="header">
        <h1>The Stage Manager's Book</h1>
        <img src="images/logo.png" alt="Logo" class="logo">
    </div>
    <div class="content">
        <p class="paragraph">
            The Stage Manager's Book is an app dedicated to enhancing the efficiency of stage management by providing a fully digital platform for productions while also contributing to environmental sustainability.
            The following is a list of the features that are currently implemented:
        </p>
        <div class="bullet-points">
            <ul>
                <li><b>Profiles:</b> Each user can create and edit a profile with basic information.</li>
                <li><b>Script:</b> Each production's director can upload a script, which they (and authorized users) can annotate. All other members of the production can view these annotations.</li>
                <li><b>Hubs:</b> Any user with an account is able to create a hub and is automatically made admin of the hub.</li>
                <li><b>Hub Resources:</b> Members of the hub are able to upload certain filetypes (.jpg, .png, .mov, .mp4, .pdf) to be viewed by other members of the hub.</li>
                <li><b>Hub Designer:</b> Members of the hub can upload and share design files (.jpg, .png, .mov, .mp4, .pdf, .dwg, .dwf, .dxf) in this tab.</li>
                <li><b>Hub Admin Control:</b> Owners of a hub are able to admit, kick, and ban users, along with editing a hub's name and description.</li>
            </ul>
        </div>
        <p class="paragraph">
            The following is a list of features that remain on the backlog:
        </p>
        <div class="bullet-points">
            <ul>
            	<li><b>Public Profiles:</b> Each user will have the ability to share their profile that includes their headshot and resume.</li>
                <li><b>Chat:</b> Members of a production can send each other private direct messages.</li>
                <li><b>Discussion:</b> This will function as a public discussion forum; all members of the crew can make and reply to posts here.</li>
                <li><b>Notifications:</b> Users will receive a notification via email or text when a hub they are a member of has a new notification.</li>
                <li><b> Role-Based Access Control:</b> Members of a hub will have roles attached to their hub profiles, which will restrict access to certain subpages.</li>
                <li><b>Calendar:</b> Each hub will have its own calendar with important dates, such as rehearsals and showtimes.</li>
                <li><b>Memories:</b> Each hub will have a subpage dedicated to pictures and videos to commemorate a production and will be viewable once a hub is deactivated.</li>
            </ul>
        </div>
        <div class="links">
            <a href="bios.html">Team Bios</a>
            <a href="https://github.com/Bmfioresi/stage-managers-book">View Our Progress</a>
            <a href="files/StageManagersBook-Sprint3Slides.pdf" download>Download Sprint 3 Presentation</a>
        </div><br><br>
        <h1>Demo:</h1>
        <video width=100% controls>
            <source src="files/TheStageManager-Sprint3Presentation.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    <div class="content">

        <h1>Documentation Guide for The Stage Managers Book</h1>
        <h3>Table of Contents</h3>
        <ol>
            <li><a href="#for_users">For Users</a>
                <ol type="a">
                    <li><a href="#create_an_account">Create an Account</a></li>
                    <li><a href="#edit_profile">Edit Profile</a></li>
                    <li><a href="#create_a_hub">Create a Hub</a></li>
                    <li><a href="#edit_a_hub">Edit a Hub</a></li>
                    <li><a href="#view_a_hub">View a Hub</a></li>
                    <li><a href="#join_a_hub">Join a Hub</a></li>
                    <li><a href="#access_hub_files">Join a Hub</a></li>
                    <li><a href="#faq_user">FAQs for User</a></li>
                </ol>
            </li>
            <li><a href="#for_developers">For Developers</a>
                <ol type="a">
                    <li><a href="#how_to_install">How to Install</a></li>
                    <li><a href="#how_each_feature_works">How Each Feature Works</a></li>
                    <li><a href="#external_resources">External Resources</a></li>
                    <li><a href="#how_to_make_changes">How to Make Changes</a></li>
                    <li><a href="#project_backlog">Project Backlog</a></li>
                    <li><a href="#bug_list">Bug List</a></li>
                    <li><a href="#automated_testing">Automated Testing</a></li>
                    <li><a href="#style_guide">Style Guide</a></li>
                    <li><a href="#faq_dev">FAQs for Developers</a></li>
                </ol>
            </li>
            <li><a href="#credits">Credits</a></li>
        </ol>

        <h1 id="for_users">For Users:</h1>

        <h2 id="create_an_account">Create an Account</h2>
            <ol>
                <li>Go to the main webpage.</li>
                <li>Click the Stage Managers Book logo in the upper left-hand corner of the screen.</li>
                <li>Click the "Sign Up" link under the sign-in fields.</li>
                <li>Enter your name, email address, and password. Your email address must be valid, and your password must adhere to the specifications on the screen. Click “Sign up”. You will be redirected to the main page.</li>
                <li>To log in: Enter your email address and password from the newly created account and click “Sign in”. You will be redirected to your profile page. Your email address and name should appear on the screen.</li>
            </ol>

        <h2 id="edit_profile">Edit Your Profile</h2>
            <ol>
                <li>Go to the profile page. This can be accessed from anywhere on the site by clicking “Profile” from the navbar on the left. <i>See Image 1.</i></li>
                <li>Click “Edit Profile”. In addition to your profile at the top of the screen, a form with your current profile information will appear. Enter your desired public profile information and click “Save Changes”. You will see the original profile page without the form. Refresh the page, and you will see your new profile. <i>See Image 2.</i></li>
            </ol>
            <img src="images/image1.png" alt="Image 1">
            <img src="images/image2.png" alt="Image 2">
        
        <h2 id="create_a_hub">Create a Hub</h2>
            <ol>
                <li>From any page, hover over the word “Hubs” on the sidebar to the left. <i>See Image 3.</i> Click on the “Create a Hub”. You will be redirected to a page to enter a hub name and description.</li>
                <li>Enter your hub's name and description. <b>These will both be visible to every hub member.</b> Click submit. You will be redirected to the home page for your newly created hub.</li>
            </ol>
            <img src="images/image3.png" alt="Image 3">

        <h2 id="edit_a_hub">Edit a Hub</h2>
            <ol>
                <li>In your hub, click the button at the bottom of the page entitled 'Admin Access'.</li>
                <li>Navigate to the bottom left-hand side of the page, and enter a new name and description.</li>
                <li>Click submit. Your hub is now updated with the new information.</li>
            </ol>
            <p>Note: You can only edit hubs that you own.</p>

        <h2 id="view_a_hub">View a Hub</h2>
            <ol>
                <li>From any page, hover over the word “Hubs” on the sidebar to the left. Click on the name of the hub you would like to navigate to. You will be redirected to the home page for this hub.</li>
            </ol>
        
        <h2 id="join_a_hub">Join a Hub</h2>
            <ol>
                <li><b>The Stage Manager</b> for a hub must navigate to the home page of the hub.</li>
                <li><b>The Stage Manager</b> should click the “admin access” on the bottom right. They will be redirected to the admin access page. Distribute the “Hub Access Code” on the top left of the screen to any users hoping to join the hub.</li>
                <li><b>The New User</b> should, from any page on the project, hover over the “Hubs” button on the left side of the screen and enter the new access code into the designated box.</li>
                <li><b>The Stage Manager</b> should navigate to the “admin access” page for a hub. On the top left of the screen, they will be prompted to “accept” or “decline” the user. Select Accept.</li>
                <li><b>The New User</b>, after refreshing their page or logging in again, should hover over “Hubs”. They will be able to click on and view the hub.</li>
            </ol>

        <h2 id="access_hub_files">Access Hub Files</h2>
            <ol><b>Resources and Designer</b>
                <li>From the designated hub, click on the “Resources” or “Designer” button at the bottom. You will be redirected to the respective page.</li>
                <li>To upload a file, select “Choose File,” select the file to upload, and then click “Upload.” Upon refreshing the page, this newly uploaded file will appear.</li>
                <li>To delete a file, click on the “Delete” button next to the filename</li>
                <li>To download a file, click on the filename.</li>
            </ol>

            <ol><b>Scripts</b>
                <li>From the designated hub, click the “Script”  button at the bottom of the screen. You will be redirected to the Script page.</li>
                <li>To upload a script, select “Choose File,” select the file to upload, and then click “Upload.” Upon refreshing the page, this newly uploaded file will appear.</li>
                <li>To view a script, click on the script name. The script will be pulled up in the PDF viewer window.</li>
                <li>You can highlight or draw on the script from the pdf viewer window. You can download the file (with any annotations) using the save button in the top corner of the pdf view. For these annotations to persist, delete the old script and upload the annotated script.</li>

            </ol>

        <h2 id="faq_user">Frequently Asked Questions</h2>
        
        <div class="faq-item">
	            <div class="faq-question">How can I start using The Stage Manager's Book?</div>
                <div class="faq-answer">
                	<p>You can start by signing up for an account on our website. Once registered, you can create your first 
                        production hub and add details such as cast members, announcements, and script notes.</p>
                </div>
            </div>

            <div class="faq-item">
	            <div class="faq-question">What information must I provide to create an account?</div>
                <div class="faq-answer">
                	<p>You must provide your full name, email address, and password. Ensure that the password meets 
                        our specified criteria and is entered twice for confirmation.</p>
                </div>
            </div>

            <div class="faq-item">
	            <div class="faq-question">What are the password criteria?</div>
                <div class="faq-answer">
                	<p>Your password must meet certain criteria to ensure security. It includes a minimum length of eight, a mix of 
                        uppercase and lowercase letters, numbers, and special characters. Specific criteria will be outlined on the 
                        account creation page. In addition to this, your password must not contain your email address or parts of your 
                        first name.</p>
                </div>
            </div>
   
            <div class="faq-item">
	            <div class="faq-question">Are there any restrictions on uploading files to a hub?</div>
                <div class="faq-answer">
                	<p>Yes, files must be in supported formats (e.g., PDF for scripts, JPEG or PNG for images, DWG for CAD drawings) and
                        should not exceed the size limit of 20MB per file. Make sure your files are correctly formatted and named before 
                        uploading. If you encounter errors during upload, check your internet connection, file format, and file size and 
                        try again. Additoinally, there are certain file types that are only allowed on particular sites. For example, the 
                        designer page allows for .dwg files, while the resources page does not accept this format.</p>
                </div>
            </div>

        <h4>Other potential issues:</h4>
            <ul>
                <li><b>Dependence on Internet Connection:</b> Services like GridFS and SendGrid require a reliable Internet connection. Users in areas with poor connectivity might experience disruptions or slower performance.</li>
                <li><b>Service Downtime:</b> External services can have outages or maintenance periods that affect their availability. Even if the application runs smoothly, any downtime from services like MongoDB Atlas or SendGrid can hinder user experience.</li>
                <li><b>Data Privacy Concerns:</b> Users may be wary of how their data is handled by third-party services, especially when it concerns sensitive information such as personal details, financial records, and production-specific data. The apprehension is greater if the service is one they have never previously encountered.</li>
                <li><b>Complexity and Usability:</b> Features dependent on third-party services might have limitations or behave unexpectedly, potentially confusing users. For instance, real-time updates might be slower or unavailable due to API rate limits, or the need to interface with external websites could result in a less interactive experience.</li>
                <li><b>Delayed Updates:</b> If a third-party service experiences a problem or requires an update, it might delay the propagation of changes or fixes in your app, affecting user experience.</li>
                <li><b>Page Refresh Requirement:</b> Users need to refresh pages to see updates in their sidebar status after logout, hub interactions, or profile changes. This can lead to confusion and a poor user experience, as modern web applications typically provide dynamic updates without requiring manual page reloads.</li>
                <li><b>Unencrypted Traffic:</b> If the application does not use HTTPS, all traffic between the client and the server is unencrypted. This exposes users to risks such as data theft or man-in-the-middle attacks, especially sensitive in a setting where personal and production-related data are involved.</li>
                <li><b>Lack of Forgot Password Feature:</b> Without a forgot password feature, users who forget their passwords have no way to recover their account on their own. This can result in frustration and decreased user satisfaction, as they may have to wait for manual intervention from support to regain access.</li>
            </ul>
        
        <br>

        <h1 id="for_developers">For Developers:</h1>

        <h2 id="how_to_install">How to Install</h2>
            <h3>Software Needed</h3>
                <ul>
                    <a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm">
                    <li>Node.js</li>
                    <li>Node Package Manager (npm)</li></a>
                    <li>A modern IDE (We used <a href="https://code.visualstudio.com/">Visual Studio Code</a>)</li>
                    <li>A working terminal (PowerShell, Cygwin, Unix, etc)</li>
                    <li>(Optional) Github Desktop</li>
                </ul>
            <h3>Local Deployment</h3>
                <h4>Cloning the repository</h4>
                    <p>
                        To clone the git repository, open a terminal and run the command <code>git clone https://github.com/Bmfioresi/stage-managers-book.git</code>.
                        This will download our project, which can be found <a href="https://github.com/Bmfioresi/stage-managers-book">here</a>.
                    </p>
                <h4>Environment Setup</h4>
                    <p>
                        For security reasons, certain sensitive information and protected global variables are not included in the repository and will need to be added manually.
                        In the <code>/server</code> directory, create a file called <code>.env</code> with the following contents, replacing the terms in brackets with your info.
                    </p>
                    <code>
                        &nbsp;MONGODB_USERNAME=[your MongoDB username]<br>
                        &nbsp;MONGODB_PASSWORD=[your MongoDB password]<br>
                        &nbsp;MAX_ATTEMPTS=[N]<br>
                        &nbsp;LOCKOUT_TIME=[N]<br>
                    </code>
                    <p>
                        Without this file, the web app cannot access the database and will not function properly.
                    </p>
            
                <h4>Server</h4>
                    <p>
                        The server, located in the <code>/server</code> directory, is a Node.js application built with <a href="https://www.npmjs.com/package/express">Express.js</a>.
                    </p>
                    <p>
                        To install the dependencies, navigate to the <code>/server</code> directory and run the command <code>npm install</code> in the console.
                        This command installs the dependencies needed for the server to run properly.
                        The <code>package.json</code> file details the dependencies.
                        This command will generate a folder called <code>node_modules</code>, which contains the dependencies' files.
                        If there are any issues with the installation of dependencies, see the FAQs for assistance.
                    </p>
                    <p>
                        To start the server, run the command <code>npm run dev</code>.
                        This will start the server on <code>localhost:8000</code> and run it in the background.
                    </p>
                <h4>Client</h4>
                    <p>
                        The client, located in the <code>/client</code> directory, is a Node.js application built with <a href="https://www.npmjs.com/package/react">React.js</a>
                    </p>
                    <p>
                        Similarly to the server, you will need to run <code>npm install</code> in the <code>/server</code> directory.
                        This will install the dependencies specific to the client in its respective <code>node_modules</code> folder.
                    </p>
                    <p>
                        To start the client, run the command <code>npm start</code> in the <code>/client</code> directory.
                        This will start the client on <code>localhost:3000</code> and open it in your default browser.
                    </p>
            <h3>Remote Deployment</h3>
                <h4>Docker</h4>
                    <p>
                        Unfortunately, we were unable to complete the process of setting up this project using Docker.
                        What follows is a discussion of what we have implemented, the expected behavior, and how a docker works.
                        A docker is an efficient way of containerizing a project. This directory contains a file called <code>docker_compose.yml</code>, which could be used to create three containers: client, server, and mongo-db.
                        Both client and server directories contain a file called <code>Dockerfile</code>, which defines the creation of their respective containers.
                        Each container encompasses a different part of the container. In the <code>docker_compose.yml</code> file, a number of different parameters are specified for each container:
                    </p>
                    <ol>
                        <li><code>container_name</code>: the name of the container being built</li>
                        <li><code>build</code>: how to construct the container</li>
                        <li><code>restart</code>: when frequently the container should be built</li>
                        <li><code>environment</code>: environment variables</li>
                        <li><code>ports</code>: port mappings from intrenal to external. A port mapping will generally take the form <code>0.0.0.0:3000:8000</code>, where the left side contains the server IP address and port, and the right side contains the corresponding port being used in the code</li>
                        <li><code>networks</code>: any networks to which a container belongs. This is necessary to allow communication between different containers. </li>
                        <li><code>depends_on</code>: what order the containers should be constructed in</li>
                        <li><code>image</code>: the docker image used to build the container</li>
                        <li><code>volumes</code>: where data should be saved for persistence</li>
                    </ol>
                    <p>
                        These docker files are designed specifically to run on a server created for this class.
                        To run the application using docker, one must run <code>docker compose build</code> from the root directory of the project and then <code>docker compose up -d</code> to begin running the project.
                        At this point, the app can be accessed from any browser at <a href="http://cs495-spring2024-13.ua.edu">http://cs495-spring2024-13.ua.edu</a> or  <a href="http://cs495-spring2024-13.ua.edu:80">http://cs495-spring2024-13.ua.edu:80</a>.
                        Run <code>docker ps</code> to view currently running containers. Run <code>docker compose down</code> to stop the containers from running.
                        <br><br>
                        We believe that the reason why the dockerfiles in this project do not function properly relates to our decision to use React for the frontend.
                        Our server does not receive any POST requests from the front end, and we have been unable to determine a solution to this problem.
                    </p>

        <h2 id="how_each_feature_works">How each feature works</h2>
            <h3>Accounts Functionality</h3>
                <h4>Create Account</h4>
                    <ul>Description: This feature allows users to create a new account with their personal information.</ul>
                    <ul>How to Use: Users can access the account creation page through the "Sign Up" link on the website's login page. They must fill out the required fields, such as name, email, and password, and then submit the form to create their account.</ul>
                    <ul>Once the user makes their account, they are returned to the login page to log in to their newly created account.</ul>
                    <ul>Links to Other Functions: This function interacts with the security features for data encryption, password hashing, and input sanitization to ensure secure account creation and updates.</ul> 
                <h4>Profile and Edit Profile</h4>
                        <ul>Description: This feature allows users to view their profile, which displays their name, roles, biography, contact information, profile picture, and gallery.</ul>
                        <ul>How to Use: After users log in to their account, they are taken to their profile page. To edit the profile, click on the “Edit Profile” button, which allows users to edit all the fields on their profile except for their profile picture and gallery (which will be implemented in the future). The “Cancel” button on the editing form will make the form disappear.</ul>
                        <ul>Links to Other Functions: Data on the profile page is populated from the account creation page. Any edits made on the profile page update the corresponding data in the database. Upon saving changes, the profile page fetches and displays the updated information.</ul>
                <h4>Sign In / Sign Out</h4>  
                    <ol>Sign in
                        <ul>Allows Users to sign in to their accounts.</ul>
                        <ul>How to use: Users enter their email and password on the sign-in page and click the "Sign in" button to access their account.</ul>
                        <ul>If a user attempts to sign in with invalid information 5 times, they will be blocked from signing in for 10 minutes.</ul>
                    </ol>
                        
                    <ol>Sign out
                        <ul>Allows users to log out of their accounts.</ul>
                        <ul>How to use: Users can sign out by clicking the "Sign Out" button located on the navigation bar.</ul>
                    </ol>
                    <ul>Links to Other Functions: Signing in and out is essential for accessing secured website areas and interacting with personalized content. These functions are also linked to the security features for password hashing and session management.</ul>
            <br>
                    <h3>Security Functionality</h3>
                <h4>Data Encryption</h4>
                    <ul>Encrypts sensitive data to protect it from unauthorized access.</ul>
                    <ul>How it works: Data encryption is applied to sensitive user information such as passwords, ensuring that even if the data is intercepted, it remains unreadable without the decryption key.</ul>
                <h4>Password Hashing</h4>
                    <ul>How it Works: Passwords are hashed using a secure hashing algorithm before being stored in the database. This ensures that plaintext passwords cannot be retrieved even if the database is compromised.</ul>
                    <ul>Both data encryption and password hashing are linked to the account functionality by ensuring that sensitive user information, such as passwords, is securely stored and managed, enhancing overall account security.</ul>
                <h4>Input sanitization</h4>
                    <ul>How it Works: Cleans and validates user input to prevent common security vulnerabilities such as NoSQL injection and protection against malicious HTML input.</ul>
                    <ul>Linked to various functionalities across the application. This prevents common security vulnerabilities, ensuring user input data is clean and safe to process. This also indirectly supports features like profile editing.</ul>
                <h4>Rate Limiting</h4>
                    <ul>How it Works: Rate limiting tracks user requests and blocks requests that exceed the defined limits.</ul>
                    <ul>Linked to user authentication and API endpoints, rate limiting prevents abuse and ensures fair usage of system resources, maintaining system stability and preventing potential attacks on authentication mechanisms and backend APIs.</ul>
                    <ul>How External Resources Are Incorporated: External resources such as security libraries or functions (validator library, bcrypt for password hashing, and rate limiting functions) are integrated into the backend codebase to enhance the application's security.</ul>
            <h3>Sidebar Functionality</h3>
                <h4>Navigate Website</h4>
                    <ul>Provides navigation links to different pages of the website.</ul>
                    <ul>How to Use: Users can click the sidebar links to navigate to specific sections such as hubs, profile, sign out, and email signup.</ul>
                <h4>Display Hubs</h4>
                    <ul>Shows a list of hubs or communities within the platform.</ul>
                    <ul>How to Use: Users can view the list of hubs in the sidebar and click on a hub to access its details. They can also join a hub using a code.</ul>
                <p>Links to Other Functions: The sidebar functionality is linked to various website sections and enhances user navigation and accessibility.</p>
            <h3>Notifications Functionality</h3>
                <h4>Email List Signup</h4>
                    <ul>Allows users to subscribe to email notifications from our app.</ul>
                    <ul>How to Use: Users can sign up for email notifications by filling out the email signup form on the website.</ul>
                    <ul>Links to Other Functions: Email list signup integrates with SendGrid to manage and send email notifications to subscribers.</ul>
            <h3>Hubs Functionality</h3>
                <h4>Display Members and Hub Info</h4>
                    <ul>Shows information about hub members and details about each hub.</ul>
                    <ul>How to Use: Users can navigate to the "Hubs" section and view the members and hub information list.</ul>
                <h4>Links to Subpages</h4>
                    <ul>Provides links to subpages or specific sections within each hub.</ul>
                    <ul>How to Use: Users can click on the subpage links in a hub to access related content or features.</ul>
                <h4>Admin Page</h4>
                    <ul>Enables hub administrators to manage hub settings and members.</ul>
                    <ul>How to Use: Admins can access the admin page from the hub interface and perform actions like admitting/denying member requests, kicking/banning members, and updating hub information.</ul>
                <p>Links to Other Functions: The hubs functionality interacts with user accounts, security features, and notifications (e.g., sending notifications to hub members).</p>
            <h3>Resources / Designer Pages Functionality</h3>
                <h4>File Uploads/Downloads</h4>
                    <ul>Allows users to upload and download files/resources.</ul>
                    <ul>How to Use: Users can upload files to share with others or download resources provided by the platform.</ul>
                <h4>Scripts</h4>
                    <ul>Manages script uploads and displays script PDFs for users.</ul>
                    <ul>How to Use: Users can upload and download script files or view existing script PDFs on the scripts page.</ul>
                    <ul>Scripts can be edited by drawing/highlighting on the document and can be downloaded with the edits included.</ul>
                <p>Links to Other Functions: This functionality interacts with file storage systems, user accounts, and notifications [in the future].</p>

        <h2 id="external_resources">How external resources are integrated</h2>
            <h4>React (Frontend Library)</h4>
                <ul>Used for building user interfaces.</ul>
                <ul>Incorporated through component-based architecture for a modular and scalable frontend.</ul>
            <h4>Axios (HTTP Client for Node.js)</h4>
                <ul>Used for making HTTP requests to the backend.</ul>
                <ul>Incorporated into frontend components to fetch and send data from/to the server.</ul>
            <h4>SendGrid (Email API)</h4>
                <ul>Integrated for sending marketing emails, notifications, and password reset emails (to be implemented).</ul>
                <ul>Configured with API keys stored securely in environment variables for email functionality.</ul>
            <h4>MongoDB (Database)</h4>
                <ul>Used for storing user profiles, account information, and other application data.</ul>
                <ul>Integrated into the backend to handle CRUD operations and ensure data persistence and reliability.</ul>

        <br></br>
        <h2 id="how_to_make_changes">How to make changes</h2>
            <h4>Fork our GitHub repository</h4>
                <ol>
                    <li>Click <a href="https://github.com/Bmfioresi/stage-managers-book">here</a>.</li>
                    <li>In the top-right corner of the page, click Fork.</li>
                    <li>Under "Owner," select the dropdown menu and click an owner for the forked repository.</li>
                    <li>By default, forks are named the same as their upstream repositories, but you can name it whatever you'd like.</li>
                    <li>Optional:
                        <ul> In the "Description" field, type a description of your fork.</ul>
                        <ul> Select Copy the DEFAULT branch only.</ul>
                    </li>
                    <li>Click Create fork.</li>
                </ol>
            <h4>After installing Node.js and npm</h4>
                <p>
                    Most of our files are split into two main folders: client and server. The client folder holds the frontend react.js files, and the server folder holds the backend node.js files.
                    To make changes, you can edit any files as you see fit or create entirely new ones. To test your changes, open two terminals. Navigate to the client directory on one terminal and the server directory on the other.
                </p>
                <p>
                    Please see the 'FAQs for Developers' section if you run into any package issues and the 'How to Install' section for information on how to run the server and client.
                </p>
        <br>
        <h2 id="project_backlog">Project backlog</h2>
            <p>Our project backlog is downloadable <a href="files/TheStageManager-Sprint3_ProjectBacklog.xlsx" download>here</a>.</p>
        <br>
        <h2 id="bug_list">Bug list</h2>
            <h4>Major bugs include:</h4>
                <ul>When you log in, the sidebar does not automatically refresh, which forces the user to refresh the page to join a hub and to view the hubs they are a member of.</ul>
                <ul>The script viewer only properly displays on Edge and displays a downloadable file on other browsers.</ul>
                <ul>Attempting to join a hub when not logged in will add '-1' to the member join list and cause the admin page to be unloadable</ul>
                <ul>In test cases, 'createTestDB' and 'destroyTestDB' do not properly wait for a response to run the test cases. There is a hardcoded delay of 1 second after loading or deleting the database.</ul>

        <br>
        <h2 id="automated_testing">Automated Testing</h2>
            <p>We have created a series of automated test cases that can be run directly from the website. This file can be seen at <b>/client/src/pages/unit-tests.js</b>. Currently, there are <b>7</b> automated test cases testing various portions of the project.</p>
            <p>To run the test cases, you should start the app and navigate to <b>localhost:3000/unit-tests</b>. Unfortunately, we currently do not have a way for these unit tests to run if the app itself cannot run. There are two ways to run these test cases:</p>
            <ol>
                <li>Test One: click on the "Test" button next to one test case to run only this test case</li>
                <li>Test All: click the "Test All" button at the top of the screen to run all test cases. This will run all test cases simultaneously</li>
            </ol>
            <p>When you begin to run a test case, you should see a loading icon next to the test case. When the test case has been completed, this loading icon will be replaced by either a checkmark (indicating the test passed) or an x (indicating that the test did not pass). If a test does not pass, more details will be printed to the console.</p>
            <p>Test cases access a database separate from our production database. Thus, you can run each test case as often as you'd like without impacting production data. The script which is used to load the test database and which contains the specifications for the test database can be found at <b>/server/test-db-functions.js</b></p>

        <h2 id="style_guide">Style Guide</h2>
            <p>When modifying this code, please adhere to the following style guides:</p>
            <ol>
                <li>All frontend code should be stored in the client subdirectory. All backend code should be stored in the server directory. Each contains its own <b>package.json</b> and <b>package-lock.json</b> files. Any packages which need to be installed must be listed in these files. A package should only be added to both <b>package.json</b> files if it is required for both frontend and backend code.</li>
                <li>Server environment variables are located in <b>server/.env</b>. In addition to parameters and credentials, paths should be specified as environment variables for cleaner code. There may be locations throughout this code where base URLs are hardcoded; this is not ideal behavior.</li>
                <li>All console.log() statements created during testing should be removed from the code or commented out before being pushed into the project's main branch.</li>
                <li>lowerCamelCase should be used for variable names throughout our code.</li>
                <li>Filenames should consist of one or more words written entirely in lowercase and separated by dashes. They should follow the form <b>server.js</b> or <b>mongo-helpers.js</b>.</li>
                <li>When a code block requires braces, the opening brace should appear in line with the if statement, function declaration, or other block start. The end brace should appear at the same indentation level as the start of the block.</li>
                <li>A separate file should be created for helper functions if any of the following are true:</li> 
                    <ol>
                        <li>They are thematically different from the context in which they are called.</li>
                        <li>The same function is needed in two or more files.</li>
                        <li>The set of helper functions includes four or more functions.</li>
                        <li>The set of helper functions is longer than 50 lines of code.</li>
                    </ol>
                <li>Error messages should reveal exactly what happened unless this reveals information that poses a security concern.</li>
                <li>Unless otherwise specified, follow standard JavaScript naming conventions. These can be seen <a href="https://github.com/standard/standard">here</a>.</a></li>
            </ol>

        <h2 id="faq_dev">Frequently Asked Questions</h2>

            <div class="faq-item">
	            <div class="faq-question">What should I do if I encounter dependency conflicts when installing packages?</div>
                <div class="faq-answer">
                	<p>If you face dependency conflicts during package installation, use the 
                        <code>npm install --save --legacy-peer-deps</code> command. This command option tells npm to ignore peer dependency
                        conflicts and revert to the legacy algorithm used in npm versions four through six. This is particularly useful 
                        when mitigating legacy projects or when multiple dependencies require different versions of the same package. After
                        installation, check if your application runs as expected. The peer dependencies are likely compatible if the 
                        project runs without issues, even though they reported conflicts during installation. </p>
                </div>
            </div>

            <div class="faq-item">
	            <div class="faq-question">How do I troubleshoot connection issues with MongoDB Atlas?</div>
                <div class="faq-answer">
                	<p>Verify that your MongoDB Atlas cluster is accessible from your IP address. Check the network access settings in the 
                        MongoDB Atlas dashboard and ensure your current IP is whitelisted. Double-check your database URI string in your 
                        application configuration to ensure it matches what Atlas provides. Ensure that your database user has the correct 
                        permissions. Also, ensure your .env file has the appropriate login credentials saved to the MONGODB_USERNAME and 
                        MONGODB_PASSWORD variables.</p>
                </div>
            </div>
   
            <div class="faq-item">
	            <div class="faq-question">What are the best practices for updating my application and its dependencies?</div>
                <div class="faq-answer">
                	<p>Regularly update your dependencies to benefit from the latest features, performance improvements, and security 
                        patches. Use dependency monitoring tools like Dependabot, which integrates with GitHub to automatically propose updates to your
			dependencies. Use version control branches to test updates in a controlled environment before 
                        merging them into your main codebase. Make database changes backward compatible where possible, and test 
                        thoroughly before deploying.</p>
                </div>
            </div>

            <div class="faq-item">
	            <div class="faq-question">How is data handled in the backend of The Stage Manager's Book?</div>
                <div class="faq-answer">
                	<p>Data in The Stage Manager's Book is handled using MongoDB, a NoSQL database, allowing for flexible data schemas and 
                        efficient data retrieval and manipulation. Node.js is used to handle server-side logic and API responses.</p>
                </div>
            </div>
            <br>

            <h4>Other potential issues:</h4>
                <ul><b>Important note on HID and UID:</b> HIDs and UIDs must be integers; some of our code uses 'Number()' in certain locations because we originally used strings. May cause unexpected results.</ul>
                <ul><b>Vendor Lock-In:</b> Using services like MongoDB Atlas may limit the ability to switch providers or migrate to different solutions without significant rework or data migration challenges.</ul>
	            <ul><b>API Limitations:</b> External APIs might not cover all the cases the application needs, or they might change their functionality, which can limit how we develop features or force us to adapt the application unexpectedly.</ul>
	            <ul><b>Cost Scalability:</b> As the user base grows, the cost of using external services can increase significantly. This cost scaling might not always align with the sponsor's budget or pricing structure.</ul>
	            <ul><b>Security Risks:</b> Integrating third-party services increases the complexity of securing your application. There is a risk of data breaches or security flaws from these providers impacting your users.</ul>
                <ul><b>Google Sign-In Integration Issues:</b> Integrating Google Sign-In into The Stage Manager's Book presented unexpected challenges, particularly with Cross-Origin Opener Policy (COOP) errors. These policy errors made it difficult to maintain the security and functionality of the user authentication process. Despite various attempts to adjust settings and configurations, these COOP errors persisted, ultimately leading us to abandon this approach.</ul>
	            <ul><b>Hubs Access Code Generation is Easy to Guess:</b> The mechanism currently in place for generating access codes for hubs in our application simply increments the generated code by one. This approach quickly proved to be insecure as it is easily predictable, making it trivial for unauthorized users to guess subsequent codes.</ul>
	            <ul><b>Nodemailer Issues:</b> We chose to use nodemailer to manage the delivery of forgotten password links via email, which is crucial for account recovery. However, we frequently encountered interruptions caused by Google, which repeatedly blocked our email-sending attempts. This often happens due to Google's strict security measures, which misinterpreted our send-outs of forgot password emails as potentially suspicious activity. The constant blocks not only disrupted our ability to provide timely assistance to users needing to reset their passwords but also added significant complications in maintaining a smooth and reliable user support process.</ul>
	            <ul><b>Traffic Not Encrypted:</b> Our current application traffic is not encrypted, posing significant security risks. All data transmitted between our servers and client devices is sent in plain text without HTTPS. This makes sensitive information, such as login credentials, personal details, and production-specific data, vulnerable to interception by malicious actors. It is crucial for us to implement HTTPS to encrypt communications, ensuring that all data passed remains confidential and integral. This may aid in allowing us to communicate with Google APIs in the future.</ul>




            <h4 id="credits">Credits:</h4>
                <h6>Hannah Brousseau: FAQs, Other potential issues, Grammar</h6>
                <h6>Logan Brower: Documentation structure, How to make changes, Backlog, Bug list, For User section</h6>
                <h6>Kaitlyn Bryant: How each feature works, External Resources</h6>
                <h6>Ben Fioresi: How to install</h6>
                <h6>Liam Tucker: Automated testing, style guide, For User section</h6>
    </div>

    <script>
        var faqQuestions = document.querySelectorAll('.faq-question');
        faqQuestions.forEach(function(question) {
          question.addEventListener('click', function() {
            this.classList.toggle('active');
          });
        });
    </script>

</body>
</html>
